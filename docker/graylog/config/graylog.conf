is_master = true
node_id_file = /usr/share/graylog/data/config/node-id
password_secret = ${GRAYLOG_PASSWORD_SECRET:?Please configure the password secret}
root_username = admin
root_password_sha2 = ${GRAYLOG_ROOT_PASSWORD_SHA2:?Please configure the root password hash}
root_timezone = ${GRAYLOG_ROOT_TIMEZONE:-UTC}

# HTTP settings
http_bind_address = 0.0.0.0:9000
http_external_uri = ${GRAYLOG_HTTP_EXTERNAL_URI:-http://localhost:9000/}
http_enable_cors = true
http_enable_gzip = true

# Security settings
allow_leading_wildcard_searches = false
allow_highlighting = false

# Processing settings
processbuffer_processors = 5
outputbuffer_processors = 3
processor_wait_strategy = blocking
ring_size = 65536
inputbuffer_ring_size = 65536
inputbuffer_processors = 2
inputbuffer_wait_strategy = blocking

# MongoDB settings
mongodb_uri = mongodb://mongodb:27017/graylog
mongodb_max_connections = 1000
mongodb_threads_allowed_to_block_multiplier = 5

# Email settings
transport_email_enabled = false
transport_email_hostname = smtp.example.com
transport_email_port = 587
transport_email_use_auth = true
transport_email_use_tls = true
transport_email_use_ssl = false
transport_email_auth_username = you@example.com
transport_email_auth_password = secret
transport_email_subject_prefix = [graylog]
transport_email_from_email = graylog@example.com

# Rotation settings
elasticsearch_max_docs_per_index = 20000000
elasticsearch_max_size_per_index = 1073741824
elasticsearch_max_time_per_index = P1D
elasticsearch_max_number_of_indices = 20

# Buffer settings
output_batch_size = 500
output_flush_interval = 1
output_fault_count_threshold = 5
output_fault_penalty_seconds = 30

# Stream settings
stream_processing_timeout = 2000
stream_processing_max_faults = 3
